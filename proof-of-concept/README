
Stage 0: Create the instances we're going to work with
======================================================

Setup your Terraform vars file:

$ cp ./terraform.tfvars.example ./terraform.tfvars

 - Don't change the nixops_root
 - Use an absolute path to your SSH key
 - If you need an hetzner cloud API key, register for one or borrow
   Graham's. It is cheap.

$ terraform init
$ terraform apply

Stage 1: Copy instances' hardware-configuration.nix locally
===========================================================

Init terraform to find the local plugin (this seems like a bug in
terraform):

$ terraform init

Then enable stage two:

$ cp ./stage-two.tf.next ./stage-two.tf
$ terraform apply

Stage 2: NixOps
===========================================================

$ cd demo
demo $ nixops create ./network.nix -d terraform-example
demo $ nixops deploy
